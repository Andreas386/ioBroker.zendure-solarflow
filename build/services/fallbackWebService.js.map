{
  "version": 3,
  "sources": ["../../src/services/fallbackWebService.ts"],
  "sourcesContent": ["/* eslint-disable @typescript-eslint/indent */\r\n\r\nimport axios, { AxiosRequestConfig } from \"axios\";\r\nimport { ZendureSolarflow } from \"../main\";\r\nimport { pathsEu, pathsGlobal } from \"../constants/paths\";\r\nimport { ISolarFlowDevRegisterData } from \"../models/ISolarflowDevRegisterResponse\";\r\n\r\nconst config: AxiosRequestConfig = {\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept-Language\": \"de-DE\",\r\n    Accept: \"*/*\",\r\n  },\r\n  timeout: 10000,\r\n};\r\n\r\nexport const createDeveloperAccount = (\r\n  adapter: ZendureSolarflow,\r\n): Promise<ISolarFlowDevRegisterData> => {\r\n  adapter.log.info(\r\n    \"[createDeveloperAccount] Connecting to Zendure Developer Web API...\",\r\n  );\r\n\r\n  const body = {\r\n    snNumber: adapter.config.snNumber,\r\n    account: adapter.config.userName,\r\n  };\r\n\r\n  let paths = undefined;\r\n\r\n  if (adapter.config.server == \"eu\") {\r\n    paths = pathsEu;\r\n  } else {\r\n    paths = pathsGlobal;\r\n  }\r\n\r\n  return axios\r\n    .post(paths.solarFlowDevRegisterUrl, JSON.stringify(body), config)\r\n    .then(function (response: axios.AxiosResponse) {\r\n      adapter.log.info(\"Successfully created Developer Account!\");\r\n\r\n      if (response.data && response.data.success == true) {\r\n        return response.data.data;\r\n      } else {\r\n        console.warn(\"No Response Data!\");\r\n        return undefined;\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      if (error.response?.data?.code && error.response?.data?.msg) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        adapter.log.error(\r\n          \"Failed to created Zendure Developer Account: \" +\r\n            error.response?.data?.code +\r\n            \" - \" +\r\n            error.response.data.msg,\r\n        );\r\n      }\r\n\r\n      return Promise.reject(\"Failed to created Zendure Developer Account!\");\r\n    });\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAA0C;AAE1C,mBAAqC;AAGrC,MAAM,SAA6B;AAAA,EACjC,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,mBAAmB;AAAA,IACnB,QAAQ;AAAA,EACV;AAAA,EACA,SAAS;AACX;AAEO,MAAM,yBAAyB,CACpC,YACuC;AACvC,UAAQ,IAAI;AAAA,IACV;AAAA,EACF;AAEA,QAAM,OAAO;AAAA,IACX,UAAU,QAAQ,OAAO;AAAA,IACzB,SAAS,QAAQ,OAAO;AAAA,EAC1B;AAEA,MAAI,QAAQ;AAEZ,MAAI,QAAQ,OAAO,UAAU,MAAM;AACjC,YAAQ;AAAA,EACV,OAAO;AACL,YAAQ;AAAA,EACV;AAEA,SAAO,aAAAA,QACJ,KAAK,MAAM,yBAAyB,KAAK,UAAU,IAAI,GAAG,MAAM,EAChE,KAAK,SAAU,UAA+B;AAC7C,YAAQ,IAAI,KAAK,yCAAyC;AAE1D,QAAI,SAAS,QAAQ,SAAS,KAAK,WAAW,MAAM;AAClD,aAAO,SAAS,KAAK;AAAA,IACvB,OAAO;AACL,cAAQ,KAAK,mBAAmB;AAChC,aAAO;AAAA,IACT;AAAA,EACF,CAAC,EACA,MAAM,SAAU,OAAO;AAhD5B;AAiDM,UAAI,iBAAM,aAAN,mBAAgB,SAAhB,mBAAsB,WAAQ,iBAAM,aAAN,mBAAgB,SAAhB,mBAAsB,MAAK;AAG3D,cAAQ,IAAI;AAAA,QACV,oDACE,iBAAM,aAAN,mBAAgB,SAAhB,mBAAsB,QACtB,QACA,MAAM,SAAS,KAAK;AAAA,MACxB;AAAA,IACF;AAEA,WAAO,QAAQ,OAAO,8CAA8C;AAAA,EACtE,CAAC;AACL;",
  "names": ["axios"]
}
